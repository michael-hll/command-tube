TUBE:
    # number testing
    - SET_VARIABLE: -n i -v 1
    - COMMAND: echo i was set to 1 --if {i} == 1
    - RUN_TUBE: SubTube1 --continue
    - COMMAND: echo i was still equal to 1 --if {i} == 1
    - RUN_TUBE: SubTube2 --continue
    - COMMAND: echo i was still equal to 2 --if {i} == 2

    # character testing
    - SET_VARIABLE: -n s -v 'hello mac'
    - RUN_TUBE: SubTube3 --continue

    # delete variables
    - DELETE_VARIABLE: i -g
    - COMMAND: ECHO i was deleted --if {i} != 2
    - RUN_TUBE: SubTube4 --continue

    # test expressions
    - SET_VARIABLE: x = 2
    - SET_VARIABLE: y = x + 2
    - SET_VARIABLE: y = {x} + 2
    - SET_VARIABLE: s1 = 'abcdef'
    - SET_VARIABLE: s2 = a b
    - COMMAND: ECHO HELLO --if s1 == abcdef
    - SET_VARIABLE: z = datetime.today().weekday()
    - COMMAND: ECHO EHLLO --if z != 7

    # test assign dict expressions
    - SET_VARIABLE: x = 100
    - SET_VARIABLE: d["k1"] = 2
    - SET_VARIABLE: d["k2"] = 3
    - SET_VARIABLE: d["k3"] = x + 2
    - SET_VARIABLE: y = str(d)
    - CMD: ECHO HELLO DICT {d}

    # output testing result
    - COUNT: -t SUCCESSFUL -v success_nums -cs --note Count current success count
    - SET_VARIABLE: -n set_variable_result -v Testing Pass  -g --if {success_nums}==25 --key
    - SET_VARIABLE: -n set_variable_result -v Testing Failed -g --if {success_nums}!=25
    - SET_VARIABLE: -n tube_passed -v {tube_passed} + 1 -g --if {success_nums}==25

SubTube1:
    - SET_VARIABLE: -n i -v i + 1
    - COMMAND: echo a new i was set to 2 locally --if {i} == 2 --key

SubTube2:
    - SET_VARIABLE: -n i -v i + 1 -g
    - COMMAND: echo global i was set to 2 --if {i} == 2 --key

SubTube3:
    - COMMAND: ECHO {s} --if {s}=='hello mac' --key

SubTube4:
    - DELETE_VARIABLE: s -a
    - COMMAND: Echo s was deleted from all tubes. --if {s} != 'hello mac' --key